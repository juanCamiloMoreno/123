; ====================================================================
; PlatformIO Configuration - Heltec WiFi LoRa 32 V4
; Two Node Tracker - Mismo código para ambos nodos
; ====================================================================

[platformio]
default_envs = heltec_wifi_lora_32_V4

[env:heltec_wifi_lora_32_V4]
platform = espressif32
board = heltec_wifi_lora_32_V4
framework = arduino

; Configuración del puerto serial
monitor_speed = 115200
monitor_filters = 
    esp32_exception_decoder
    time

; Build flags para USB CDC y C++17
build_flags =
  -D ARDUINO_USB_CDC_ON_BOOT=1
  -D ARDUINO_USB_MODE=1
  -std=gnu++17
build_unflags = -std=gnu++11

; Librerías necesarias
lib_deps =
  ; Display OLED U8g2
  olikraus/U8g2@^2.35.30

  ; GPS TinyGPS++
  mikalhart/TinyGPSPlus@^1.0.3

  ; LoRa - RadioLib (genérica, estable, funciona con SX1262)
  jgromes/RadioLib@^6.6.0

; Puerto USB (ajusta según tu sistema)
; Linux: /dev/ttyUSB0 o /dev/ttyACM0
; Windows: COM3, COM4, etc.
; macOS: /dev/cu.usbserial-*
;upload_port = /dev/ttyUSB0
;monitor_port = /dev/ttyUSB0

; Velocidad de carga
upload_speed = 921600